<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="file:../lib/olac-filter.rnc" type="compact"?>
<olac-filter>
    <header xmlns:dc="http://purl.org/dc/elements/1.1/">
        <dc:title>Final OLAC filter for the IR Gateway</dc:title>
        <dc:contributor>Gary Simons</dc:contributor>
        <dc:date>8 June 2011</dc:date>
       <dc:description>First rejects anything that : 
           (1) matches the special code [qqq] for formal languages
           (2) is a photo or artifact
           (3) has a probability lower than 2.5%
           (4) is in a Roman script language without a stoplist
        Then retains only the records that
        have a subject language assigned.</dc:description>
    </header>
    <reject-rules>
       <test name="QQQ code">
          <dc-element tag="dc:subject" >
             <type test="equals" ><text>olac:language</text></type>
             <code test="equals"><text>qqq</text></code>
          </dc-element>
       </test>
       <test name="Images and artifacts">
          <!-- If the probability is greater than 95%, don't reject
             it. The NAU collection, for instance, is full of images of
             dictionaries.
          -->
          <dc-element tag="dc:type">
             <code test="equals">
                <text>binary</text>
             </code>
             <content negate="yes" test="starts-with">
                <text>100</text>
                <text>99</text>
                <text>98</text>
                <text>97</text>
                <text>96</text>
                <text>95</text>
             </content>
          </dc-element>
          <dc-element tag="dc:format">
             <content test="contains">
                <text>StillImage</text>
                <text>Still Image</text>
                <text>slide</text>
                <text>Slide</text>
                <text>negative</text>
                <text>positive</text>
                <text>photograph</text>
                <text>Photograph</text>
                <text>PhysicalObject</text>
                <text>Physical Object</text>
                <text>artifact</text>
                <text>Artifact</text>
                <text>artefact</text>
                <text>Artefact</text>
             </content>
          </dc-element>
       </test>
       <test name="Low binary probability">
          <dc-element tag="dc:type">
             <code test="equals">
                <text>binary</text>
             </code>
             <content test="starts-with">
                <text>1.</text>
                <text>2.0</text>
                <text>2.1</text>
                <text>2.2</text>
                <text>2.3</text>
                <text>2.4</text>
             </content>
          </dc-element>
       </test>
       <test name="Roman script languages without stop list">
          <!-- But keep it if the probability is higher than 95 -->
          <dc-element tag="dc:type">
             <code test="equals">
                <text>binary</text>
             </code>
             <content negate="yes" test="starts-with">
                <text>100</text>
                <text>99</text>
                <text>98</text>
                <text>97</text>
                <text>96</text>
                <text>95</text>
             </content>
          </dc-element>
          <dc-element tag="dc:language">
             <content test="equals">
                <text>ANG</text>
                <text>ang</text>
                <text>swe</text>
                <text>sv</text>
                <text>nor</text>
                <text>nob</text>
                <text>dan</text>
                <text>fin</text>
                <text>hun</text>
                <text>est</text>
                <text>et</text>
                <text>lat</text>
                <text>la</text>
                <text>pol</text>
                <text>cze</text>
                <text>ces</text>
                <text>tur</text>
                <text>ota</text>
                <text>yid</text>
             </content>
          </dc-element>
       </test>
       
    </reject-rules>
    <retain-rules>
       <test name="Must have subject language">
          <dc-element tag="dc:subject">
             <type test="exists"><text>olac:language</text></type>
          </dc-element>
       </test>
    </retain-rules>
</olac-filter>